# å‰ç«¯ä»£ç å®¡æŸ¥è§„èŒƒ
guidelines:
  # ====================================
  # ğŸ”´ é«˜ä¼˜å…ˆçº§ - å¿…é¡»ä¿®å¤
  # ä¼šå¯¼è‡´ï¼šç¼–è¯‘é”™è¯¯ã€è¿è¡Œæ—¶å´©æºƒã€ä¸¥é‡å®‰å…¨æ¼æ´ã€å†…å­˜æ³„æ¼
  # ====================================
  
  # --- TypeScript ç¼–è¯‘é”™è¯¯ ---
  - id: "TS-001"
    severity: "é«˜"
    category: "TypeScript"
    description: "ç¦æ­¢åœ¨ TSX/Vue æ¨¡æ¿ä¸­ä½¿ç”¨å°–æ‹¬å·ç±»å‹æ–­è¨€"
    suggestion: "å°–æ‹¬å·ä¼šä¸ JSX/TSX æ ‡ç­¾å†²çªå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚å¿…é¡»ä½¿ç”¨ `as` å…³é”®å­—ã€‚"
    examples:
      bad: "const x = <string>value"
      good: "const x = value as string"

  # --- Vue3 è¿è¡Œæ—¶é”™è¯¯ ---
  - id: "VUE-001"
    severity: "é«˜"
    category: "Vue3"
    description: "ç¦æ­¢åœ¨åŒä¸€å…ƒç´ ä¸ŠåŒæ—¶ä½¿ç”¨ v-for å’Œ v-if"
    suggestion: "Vue3 ä¸­ v-if ä¼˜å…ˆçº§é«˜äº v-forï¼Œä¼šå¯¼è‡´è®¿é—®æœªå®šä¹‰å˜é‡çš„è¿è¡Œæ—¶é”™è¯¯ã€‚å°† v-if ç§»åˆ°å¤–å±‚æˆ–ä½¿ç”¨è®¡ç®—å±æ€§è¿‡æ»¤æ•°æ®ã€‚"
    examples:
      bad: "<div v-for=\"item in list\" v-if=\"item.visible\">{{ item }}</div>"
      good: "<div v-for=\"item in visibleList\" :key=\"item.id\">{{ item }}</div>"

  - id: "VUE-002"
    severity: "é«˜"
    category: "Vue3"
    description: "ç¦æ­¢ç›´æ¥ä¿®æ”¹ props"
    suggestion: "ç›´æ¥ä¿®æ”¹ props ä¼šå¯¼è‡´ Vue è¿è¡Œæ—¶è­¦å‘Šå’Œå•å‘æ•°æ®æµæ··ä¹±ã€‚ä½¿ç”¨ emit äº‹ä»¶æˆ–åˆ›å»ºæœ¬åœ°å“åº”å¼å‰¯æœ¬ã€‚"
    examples:
      bad: "props.count++"
      good: "emit('update:count', props.count + 1)"

  - id: "VUE-003"
    severity: "é«˜"
    category: "Vue3"
    description: "ref åœ¨ script ä¸­å¿…é¡»ä½¿ç”¨ .value è®¿é—®"
    suggestion: "åœ¨æ¨¡æ¿å¤–è®¿é—® ref å¿˜è®° .value ä¼šå¯¼è‡´é€»è¾‘é”™è¯¯å’Œç±»å‹é”™è¯¯ã€‚"
    examples:
      bad: "const count = ref(0); if (count > 10) { }"
      good: "const count = ref(0); if (count.value > 10) { }"

  - id: "VUE-004"
    severity: "é«˜"
    category: "Vue3"
    description: "watch çš„å›è°ƒä¸­é¿å…ç›´æ¥ä¿®æ”¹è¢«ç›‘å¬çš„å€¼"
    suggestion: "ä¼šå¯¼è‡´æ— é™å¾ªç¯å’Œæµè§ˆå™¨å´©æºƒã€‚ä½¿ç”¨ä¸­é—´å˜é‡æˆ–é‡æ–°è®¾è®¡æ•°æ®æµã€‚"
    examples:
      bad: "watch(count, () => count.value++)"
      good: "watch(count, (newVal) => result.value = newVal * 2)"

  - id: "VUE-005"
    severity: "é«˜"
    category: "Vue3"
    description: "è®¡ç®—å±æ€§å¿…é¡»æ˜¯åŒæ­¥çš„"
    suggestion: "è®¡ç®—å±æ€§ä¸­ä½¿ç”¨ async/await ä¼šè¿”å› Promise è€Œéå€¼ï¼Œå¯¼è‡´æ¨¡æ¿æ¸²æŸ“é”™è¯¯ã€‚ä½¿ç”¨ watchEffect æˆ– onMounted å¤„ç†å¼‚æ­¥é€»è¾‘ã€‚"
    examples:
      bad: "const data = computed(async () => await fetch('/api'))"
      good: "const data = ref(null); onMounted(async () => { data.value = await fetch('/api') })"

  - id: "VUE-006"
    severity: "é«˜"
    category: "Vue3"
    description: "ç»„ä»¶å¸è½½æ—¶å¿…é¡»æ¸…ç†å®šæ—¶å™¨å’Œäº‹ä»¶ç›‘å¬"
    suggestion: "ä¸æ¸…ç†ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œé•¿æ—¶é—´ä½¿ç”¨åæµè§ˆå™¨å¡é¡¿ã€‚åœ¨ onUnmounted ä¸­æ¸…ç†æ‰€æœ‰å‰¯ä½œç”¨ã€‚"
    examples:
      bad: "onMounted(() => { setInterval(() => {}, 1000) })"
      good: "onMounted(() => { const timer = setInterval(() => {}, 1000); onUnmounted(() => clearInterval(timer)) })"

  # --- ä¸¥é‡å®‰å…¨æ¼æ´ ---
  - id: "SEC-001"
    severity: "é«˜"
    category: "å®‰å…¨"
    description: "ç¦æ­¢ä½¿ç”¨ eval() å’Œ new Function() æ‰§è¡ŒåŠ¨æ€ä»£ç "
    suggestion: "å­˜åœ¨ä¸¥é‡çš„ä»£ç æ³¨å…¥é£é™©ã€‚ä½¿ç”¨ JSON.parse() è§£ææ•°æ®ï¼Œæˆ–ä½¿ç”¨å®‰å…¨çš„è¡¨è¾¾å¼è§£æåº“ã€‚"
    examples:
      bad: "eval(userInput)"
      good: "JSON.parse(userInput)"

  - id: "SEC-002"
    severity: "é«˜"
    category: "å®‰å…¨"
    description: "ç¦æ­¢ä½¿ç”¨ v-html æ¸²æŸ“ä¸å¯ä¿¡çš„ç”¨æˆ·è¾“å…¥"
    suggestion: "ç›´æ¥æ¸²æŸ“æœªè½¬ä¹‰çš„ HTML ä¼šå¯¼è‡´ XSS æ”»å‡»ã€‚ä½¿ç”¨æ™®é€šæ’å€¼ {{ }} æˆ– DOMPurify åº“æ¸…ç† HTMLã€‚"
    examples:
      bad: "<div v-html=\"userInput\"></div>"
      good: "<div>{{ userInput }}</div>"

  - id: "SEC-003"
    severity: "é«˜"
    category: "å®‰å…¨"
    description: "æ•æ„Ÿä¿¡æ¯ï¼ˆAPIå¯†é’¥ã€tokenï¼‰ç¦æ­¢ç¡¬ç¼–ç åœ¨ä»£ç ä¸­"
    suggestion: "ç¡¬ç¼–ç çš„æ•æ„Ÿä¿¡æ¯ä¼šè¢«æ‰“åŒ…åˆ°å‰ç«¯ä»£ç ï¼Œä»»ä½•äººéƒ½èƒ½æŸ¥çœ‹ã€‚ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨ã€‚"
    examples:
      bad: "const apiKey = 'sk-123456789abcdef'"
      good: "const apiKey = import.meta.env.VITE_API_KEY"

  # --- å¸¸è§è¿è¡Œæ—¶é”™è¯¯ ---
  - id: "JS-001"
    severity: "é«˜"
    category: "JavaScript"
    description: "è®¿é—®å¯èƒ½ä¸º null/undefined çš„å±æ€§å‰å¿…é¡»æ£€æŸ¥"
    suggestion: "ç›´æ¥è®¿é—®ä¼šå¯¼è‡´ 'Cannot read property of null' è¿è¡Œæ—¶é”™è¯¯ã€‚ä½¿ç”¨å¯é€‰é“¾ ?. æˆ–å…ˆåˆ¤æ–­ã€‚"
    examples:
      bad: "user.profile.name"
      good: "user?.profile?.name ?? 'Unknown'"

  # ====================================
  # ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ - å»ºè®®ä¿®å¤
  # å½±å“ï¼šä»£ç è´¨é‡ã€æ€§èƒ½ã€å¯ç»´æŠ¤æ€§
  # ====================================
  
  - id: "VUE-101"
    severity: "ä¸­"
    category: "Vue3"
    description: "v-for å¿…é¡»ä½¿ç”¨å”¯ä¸€çš„ :key å±æ€§"
    suggestion: "ç¼ºå°‘ key ä¼šå¯¼è‡´åˆ—è¡¨æ›´æ–°æ—¶çš„æ¸²æŸ“é”™è¯¯å’Œæ€§èƒ½é—®é¢˜ã€‚ä½¿ç”¨å”¯ä¸€æ ‡è¯†ç¬¦ä½œä¸º keyï¼Œé¿å…ä½¿ç”¨ç´¢å¼•ã€‚"
    examples:
      bad: "<div v-for=\"item in list\">{{ item }}</div>"
      good: "<div v-for=\"item in list\" :key=\"item.id\">{{ item }}</div>"

  # ====================================
  # ğŸŸ¢ ä½ä¼˜å…ˆçº§ - å¯é€‰ä¼˜åŒ–
  # å½±å“ï¼šä»£ç é£æ ¼ã€å›¢é˜Ÿåä½œ
  # ====================================
  
  - id: "CODE-101"
    severity: "ä½"
    category: "ä»£ç è´¨é‡"
    description: "ä½¿ç”¨ === ä»£æ›¿ == è¿›è¡Œæ¯”è¾ƒ"
    suggestion: "ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦é¿å…éšå¼ç±»å‹è½¬æ¢å¸¦æ¥çš„æ„å¤–è¡Œä¸ºã€‚"
    examples:
      bad: "if (count == '0') { }"
      good: "if (count === 0) { }"
